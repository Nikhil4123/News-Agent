# Indian News Fetcher - Project Overview

## ğŸ“‹ Project Description

An automated Python application that fetches Indian news from multiple sources and delivers them via email 3 times daily. Features dual API support with automatic fallback, beautiful HTML emails, and cloud-ready deployment.

## ğŸ¯ Key Features

- âœ… **Dual API Support**: NewsAPI.org + NewsData.io
- âœ… **Automated Scheduling**: 3 times daily (customizable)
- âœ… **Email Delivery**: HTML + Plain text emails
- âœ… **Smart Fallback**: Auto-switches if primary API fails
- âœ… **Cloud Ready**: Environment variables + Docker support
- âœ… **Comprehensive Logging**: Track all operations
- âœ… **Easy Configuration**: Single config file or env vars

## ğŸ“ File Structure

### Core Application Files (NEW)

| File | Purpose | Type |
|------|---------|------|
| `scheduler_app.py` | Main scheduler application - runs continuously and sends news 3x daily | **Primary** |
| `news_service.py` | Unified service that manages both APIs with fallback logic | **Core** |
| `newsdata_fetcher.py` | NewsData.io API integration module | **Core** |
| `email_sender.py` | Email notification system with HTML templates | **Core** |

### Legacy/Alternative Files (EXISTING)

| File | Purpose | Status |
|------|---------|--------|
| `news_fetcher.py` | Original NewsAPI.org fetcher with console/HTML output | Active |
| `simple_news_fetcher.py` | Simplified version for basic usage | Active |
| `better_news_fetcher.py` | Enhanced version with multiple sources | Active |

### Configuration Files

| File | Purpose |
|------|---------|
| `config.txt` | Main configuration file (API keys, email, schedule) |
| `requirements.txt` | Python package dependencies |

### Documentation Files

| File | Purpose | Audience |
|------|---------|----------|
| `README.md` | Complete documentation with all features | Everyone |
| `QUICKSTART.md` | 5-minute setup guide | New users |
| `DEPLOYMENT_GUIDE.md` | Detailed deployment instructions | DevOps/Cloud |
| `PROJECT_OVERVIEW.md` | This file - project structure | Developers |
| `RUNNING_INSTRUCTIONS.md` | Running instructions (existing) | Users |

### Test & Utility Files

| File | Purpose |
|------|---------|
| `test_setup.py` | Comprehensive setup verification script (NEW) |
| `test_news_fetcher.py` | Unit tests for news fetcher |
| `test_api_connection.py` | API connection tests |
| `simple_test.py` | Simple API tests |
| `api_test.py` | API functionality tests |
| `verify_improvements.py` | Verify enhancements |

### Generated Files

| File | Generated By | Purpose |
|------|--------------|---------|
| `news_scheduler.log` | scheduler_app.py | Application logs |
| `news_dashboard.html` | news_fetcher.py | HTML news dashboard |
| `youtube_news_content.txt` | Various | Text export of news |
| `test_results.txt` | Tests | Test output |

## ğŸ”„ Application Flow

### Automated Mode (Recommended)

```
scheduler_app.py
    â†“
news_service.py
    â†“
[Try Primary API] â†’ newsapi OR newsdata_fetcher
    â†“
[If fails] â†’ [Try Backup API]
    â†“
email_sender.py
    â†“
[Send HTML Email to Recipients]
    â†“
[Log Results]
    â†“
[Wait for Next Scheduled Time]
```

### Manual Mode (Legacy)

```
news_fetcher.py
    â†“
NewsAPI.org
    â†“
[Console Output + HTML Dashboard + Text File]
```

## ğŸš€ Usage Modes

### Mode 1: Automated Email Scheduler (NEW - Recommended)

**Purpose**: 24/7 automated news delivery via email

**Command**:
```bash
python scheduler_app.py
```

**Best For**: 
- Cloud deployment
- Continuous operation
- Email subscribers
- Automated workflows

---

### Mode 2: Manual News Fetch (Original)

**Purpose**: On-demand news viewing in console/browser

**Command**:
```bash
python news_fetcher.py
```

**Best For**:
- Quick news check
- Testing
- Manual operation
- Local viewing

---

### Mode 3: Component Testing

**Purpose**: Test individual components

**Commands**:
```bash
python test_setup.py          # Test entire setup
python newsdata_fetcher.py    # Test NewsData.io
python email_sender.py        # Test email
python news_service.py        # Test unified service
```

**Best For**:
- Troubleshooting
- Configuration verification
- Development

## ğŸ”§ Configuration Options

### API Configuration

| Setting | Options | Default | Notes |
|---------|---------|---------|-------|
| `NEWS_API_KEY` | API key string | - | NewsAPI.org key |
| `NEWSDATA_API_KEY` | API key string | - | NewsData.io key |
| `API_PREFERENCE` | `newsapi` or `newsdata` | `newsapi` | Primary API to use |

### Email Configuration

| Setting | Example | Notes |
|---------|---------|-------|
| `SMTP_SERVER` | `smtp.gmail.com` | SMTP server address |
| `SMTP_PORT` | `587` | Usually 587 for TLS |
| `SENDER_EMAIL` | `your@gmail.com` | Your email |
| `SENDER_PASSWORD` | `app_password` | App password (not regular) |
| `RECIPIENT_EMAILS` | `user1@a.com,user2@b.com` | Comma-separated |

### Schedule Configuration

| Setting | Format | Example | Notes |
|---------|--------|---------|-------|
| `SCHEDULE_TIMES` | `HH:MM,HH:MM` | `06:00,14:00,22:00` | 24-hour format |

**Examples**:
- 3x daily (8 hrs): `06:00,14:00,22:00`
- 4x daily (6 hrs): `00:00,06:00,12:00,18:00`
- 2x daily (12 hrs): `08:00,20:00`
- Business hours: `09:00,18:00`

## ğŸ“Š API Comparison

| Feature | NewsAPI.org | NewsData.io |
|---------|-------------|-------------|
| **Free Tier Limit** | 100 req/day | 200 req/day |
| **Coverage** | Broad, international | Real-time, focused |
| **Best For** | General news | Breaking news |
| **Response Time** | Fast | Very fast |
| **Article Quality** | High | High |

**Recommendation**: Use **both** with automatic fallback!

## ğŸŒ Deployment Options

| Platform | Complexity | Cost | Best For |
|----------|------------|------|----------|
| **Local PC** | â­ Easy | Free | Testing, personal |
| **VPS (DigitalOcean)** | â­â­ Medium | $5/mo | Production |
| **Docker** | â­â­ Medium | Varies | Containerized |
| **Heroku** | â­ Easy | Free tier | Quick deploy |
| **AWS Lambda** | â­â­â­ Hard | Pay per use | Serverless |
| **Raspberry Pi** | â­â­ Medium | Free | Home server |

## ğŸ” Security Best Practices

1. âœ… Use environment variables in production
2. âœ… Never commit `config.txt` with real credentials
3. âœ… Use app passwords (not regular passwords)
4. âœ… Restrict file permissions: `chmod 600 config.txt`
5. âœ… Use TLS/SSL for SMTP (port 587)
6. âœ… Regularly rotate API keys
7. âœ… Keep dependencies updated

## ğŸ“ˆ Resource Usage

### For 3x Daily Schedule

| Resource | Amount | Notes |
|----------|--------|-------|
| **API Calls** | 3-6/day | 3 if primary works, 6 if fallback |
| **Emails** | 3/day | One per scheduled time |
| **Bandwidth** | ~1-2 MB/day | News articles + images |
| **Storage** | ~10-50 MB | Logs + cache |
| **RAM** | ~50-100 MB | Python + dependencies |
| **CPU** | Minimal | Only active during fetch |

**Yearly API Usage**: ~1,095-2,190 calls (well within free limits)

## ğŸ› ï¸ Development

### Adding New Features

**Add a new news source**:
1. Create fetcher module (e.g., `newsource_fetcher.py`)
2. Add to `news_service.py`
3. Update configuration
4. Update documentation

**Modify email template**:
1. Edit `email_sender.py` â†’ `_create_html_email()`
2. Customize HTML/CSS
3. Test with `python email_sender.py`

**Change schedule logic**:
1. Edit `scheduler_app.py` â†’ `setup_schedule()`
2. Modify schedule library calls
3. Test thoroughly

### Testing Workflow

```bash
# 1. Test setup
python test_setup.py

# 2. Test components
python newsdata_fetcher.py
python email_sender.py
python news_service.py

# 3. Test scheduler (immediate)
python scheduler_app.py --test

# 4. Run normally
python scheduler_app.py
```

## ğŸ“ Support & Troubleshooting

### Common Issues

| Issue | Solution | Doc Reference |
|-------|----------|---------------|
| Email auth failed | Use app password | QUICKSTART.md |
| No API key | Configure in config.txt | README.md |
| No articles found | Check API quotas | README.md â†’ Troubleshooting |
| Scheduler not running | Check Python version | DEPLOYMENT_GUIDE.md |
| Import errors | Install dependencies | QUICKSTART.md |

### Log Files

| Log File | Contains | Location |
|----------|----------|----------|
| `news_scheduler.log` | All scheduler activity | Project root |
| Console output | Real-time status | Terminal |

**View logs**:
```bash
# View entire log
cat news_scheduler.log

# View last 50 lines
tail -50 news_scheduler.log

# Follow in real-time
tail -f news_scheduler.log
```

## ğŸ¯ Quick Command Reference

```bash
# Setup
pip install -r requirements.txt
python test_setup.py

# Run
python scheduler_app.py              # Normal mode
python scheduler_app.py --test       # Test immediately
python scheduler_app.py --immediate  # Same as --test

# Legacy/Alternative
python news_fetcher.py               # Original fetcher
python simple_news_fetcher.py        # Simple version
python better_news_fetcher.py        # Enhanced version

# Testing
python test_setup.py                 # Full setup test
python newsdata_fetcher.py           # Test NewsData.io
python email_sender.py               # Test email
python news_service.py               # Test service

# Deployment
nohup python scheduler_app.py &      # Background (Linux)
python scheduler_app.py              # Foreground (Windows)
```

## ğŸ“¦ Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| `requests` | >=2.25.1 | HTTP requests |
| `schedule` | >=1.1.0 | Time scheduling |
| `APScheduler` | >=3.10.0 | Advanced scheduling (future) |

**Note**: APScheduler included for future enhancements; currently using `schedule`.

## ğŸ“ Learning Resources

- **NewsAPI.org Docs**: https://newsapi.org/docs
- **NewsData.io Docs**: https://newsdata.io/documentation
- **Python Schedule**: https://schedule.readthedocs.io/
- **SMTP Guide**: https://realpython.com/python-send-email/

## ğŸ“„ License

MIT License - Free to use and modify

## ğŸ¤ Contributing

Contributions welcome! Areas for improvement:
- Additional news sources
- Better email templates
- More deployment guides
- Enhanced error handling
- UI dashboard
- Mobile app integration

## ğŸ—ºï¸ Roadmap

**Version 2.0 (Future)**:
- [ ] Web dashboard
- [ ] Database storage
- [ ] User preferences
- [ ] Multiple languages
- [ ] Mobile notifications
- [ ] Analytics
- [ ] Category filtering
- [ ] Keyword alerts

---

**Current Version**: 1.0.0
**Last Updated**: November 2025
**Maintainer**: Indian News Fetcher Team

For detailed instructions, see:
- Quick setup: `QUICKSTART.md`
- Full documentation: `README.md`
- Deployment: `DEPLOYMENT_GUIDE.md`

